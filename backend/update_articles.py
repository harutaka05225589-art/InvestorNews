
import sqlite3
import os

DB_PATH = os.path.join(os.path.dirname(__file__), '..', 'frontend', 'investor_news.db')

articles = {
    "テスタ": """
# テスタ氏の投資手法：デイトレードから中長期投資への進化

## 概要
テスタ氏は、日本の個人投資家の中でもトップクラスの知名度と実績を誇る投資家です。元々はデイトレード（スキャルピング）で資産を築きましたが、近年は資産規模の拡大に伴い、中長期投資や高配当株投資へとスタイルを変化させています。

## 主な投資スタイル
- **スキャルピング（初期）**: 板読みと歩み値を重視し、数秒〜数分で売買を繰り返す手法で数十億円の資産を形成。
- **中長期投資（現在）**: 資産規模が大きくなりすぎたため、流動性の観点から数日〜数ヶ月、あるいは年単位での保有にシフト。
- **高配当株**: 配当金を重視した安定運用の一部も取り入れています。

## 投資哲学
「期待値」を最重視しています。勝てる確率が高い場面でのみエントリーし、負けた場合は素早く損切りを行うという、徹底したリスク管理が特徴です。また、相場の変化に合わせて自分のスタイルを柔軟に変える「適応力」が最大の武器と語っています。

## 学び
テスタ氏から学べる最大のポイントは「相場に合わせる」という姿勢です。一つの手法に固執せず、地合いや資金量に応じて戦い方を変える柔軟性が、長期的な生存と繁栄には不可欠です。
""",

    "藤本茂(シゲルさん)": """
# 藤本茂（シゲルさん）の投資手法：88歳の現役デイトレーダー

## 概要
「日本のバフェット」とも呼ばれることがありますが、そのスタイルは全く異なります。88歳にして現役のデイトレーダーであり、朝2時から起きて海外市場をチェックし、場中はモニターに張り付いてトレードを行う、まさに「株職人」です。

## 主な投資スタイル
- **テクニカル＆デイトレード**: チャートの動きや需給を重視した短期売買がメイン。
- **信用取引の活用**: 資金効率を上げるために信用取引を積極的に活用し、常にポジションを持っています（フルインベストメントに近い状態）。

## 投資哲学
「株は上がったら売る、下がったら買う」というシンプルな原則を、長年の経験と勘で実行しています。彼は「株は頭で考えるな、体で感じろ」といった実践重視の言葉を残しており、理屈よりも経験からくる相場観を大切にしています。

## 学び
年齢に関係なく、情熱を持って相場に向き合い続ける姿勢は多くの投資家に勇気を与えています。「生涯現役」を体現するその姿から、投資は一生続けられる知的ゲームであることを再認識できます。
""",

    "弍億貯男": """
# 弍億貯男氏の投資手法：サラリーマン割安成長株投資

## 概要
会社員として働きながら、割安成長株への長期投資で資産を築いた「兼業投資家の星」です。自身のブログや著書で手法を公開しており、再現性の高さから多くの個人投資家に支持されています。

## 主な投資スタイル
- **割安成長株（バリューグロース）**: PERが低く、かつ将来的に利益成長が見込める銘柄を発掘し、中長期で保有します。
- **10倍株（テンバガー）狙い**: 長期間保有することで株価が数倍〜10倍になるのを待ちます。

## 投資哲学
「サラリーマンの給与などの安定収入があるからこそ、株価の変動に一喜一憂せずに長期保有ができる」という兼業の強みを活かすことを提唱しています。無理な売買はせず、じっくりと企業の成長を待つスタイルです。

## 学び
忙しい会社員でも、銘柄選びと保有期間を工夫することで大きな資産を築けることを証明しています。短期的なノイズに惑わされず、企業のファンダメンタルズに着目する重要性を教えてくれます。
""",

    "テンバガー投資家X": """
# テンバガー投資家Xの投資手法：中長期成長株ハンター

## 概要
その名の通り、株価が10倍になる「テンバガー」銘柄の発掘に特化した投資家です。企業の成長ストーリーやテーマ性を重視し、爆発的な利益成長の手前で仕込むことを得意としています。

## 主な投資スタイル
- **グロース株投資**: 売上高や利益の成長率が高い中小型株がターゲット。
- **テーマ投資**: AI、半導体、DXなど、国策や時代の潮流に乗るテーマに関連した銘柄を選定します。

## 投資哲学
「未来の変化を先読みする」ことが基本戦略です。決算資料を読み込み、数字の裏にある企業の成長ポテンシャルを見抜く分析力を重視しています。

## 学び
大きなリターンを得るためには、まだ多くの人が気づいていない成長の芽を見つけるリサーチ力が必要です。情報のアンテナを高く張り、変化を敏感に察知することの大切さを学べます。
""",

    "かんち": """
# かんち氏の投資手法：高配当・優待バリュー株投資

## 概要
不動産投資と株式投資を組み合わせるなど、安定した資産形成を得意とする投資家です。特に高配当株や株主優待銘柄への投資で知られ、配当金生活（FIRE）を目指す層から人気があります。

## 主な投資スタイル
- **高配当株**: 安定した配当を出す企業の株を安値で拾い、長期保有します。
- **優待取り**: 株主優待を活用し、実質的な利回りを高める手法も得意としています。

## 投資哲学
「損をしないこと」を重視し、下値不安の少ないバリュー株（割安株）を選好します。暴落時には積極的に買い向かう逆張りスタイルも見られます。

## 学び
守りを重視した投資スタイルの参考になります。配当や優待というインカムゲインを積み上げることで、相場全体の変動に左右されにくいメンタルを保つ手法は、初心者にも取り組みやすいものです。
""",

    "DAIBOUCHOU": """
# DAIBOUCHOU氏の投資手法：割安成長株からの分散投資

## 概要
2000年代のITバブル崩壊後の相場で資産を大きく増やし、「大膨張」のハンドルネームで有名になりました。信用取引での集中投資で成功しましたが、ライブドアショックでの大損失も経験。その後、分散投資スタイルへと転換し、復活を遂げました。

## 主な投資スタイル
- **分散投資**: 特定の銘柄やセクターに偏らず、多数の銘柄に資産を分散させることでリスクを管理します。
- **バリュー投資**: PERやPBRが低い割安な銘柄をベースにしつつ、カタリスト（株価上昇のきっかけ）があるものを好みます。

## 投資哲学
一度大きな失敗を経験したことから、「リスク管理」を徹底しています。一つのカゴにすべての卵を盛らない、という分散投資の基本を忠実に守りつつ、割安株の訂正高を狙うスタイルです。

## 学び
失敗から学び、手法を進化させ続ける姿勢は非常に参考になります。また、集中投資のリスクと分散投資の有効性を実体験として語れる数少ない投資家の一人です。
""",

    "成長株テリー": """
# 成長株テリー氏の投資手法：成長株集中投資

## 概要
成長株への集中投資で億り人となった投資家です。企業の業績変化率（モメンタム）を重視し、好決算を発表した銘柄などに資金を集中させるスタイルを得意としています。

## 主な投資スタイル
- **決算プレー**: 四半期決算の内容を精査し、ポジティブサプライズがあった銘柄に素早く乗ります。
- **集中投資**: 自信のある少数の銘柄に大きく資金を張ることで、資産拡大のスピードを最大化します。

## 投資哲学
「株価は業績に収斂する」という信念のもと、ファンダメンタルズ分析を徹底しています。特に売上高の成長率や利益率の改善など、数字の変化に敏感です。

## 学び
短期間で大きく資産を増やすためには、ある程度のリスクをとって集中投資する必要があることを教えてくれます。ただし、それには徹底した企業分析と監視が必要不可欠です。
""",

    "桐谷広人(桐谷さん)": """
# 桐谷さん（桐谷広人氏）の投資手法：徹底した株主優待投資

## 概要
元プロ棋士という異色の経歴を持ち、テレビ番組「月曜から夜ふかし」で大ブレイクしたことで、日本で最も有名な個人投資家の一人となりました。自転車で優待券を使い切るために走り回る姿がおなじみです。

## 主な投資スタイル
- **株主優待投資**: 配当金と優待を合わせた「総合利回り」が4%以上の銘柄を基準に購入します。
- **分散投資**: 優待をもらうために、数百〜1000以上の銘柄を最小単元（100株など）で広く保有します。

## 投資哲学
「優待がある限り、株価が下がっても楽しみがある」という、メンタル維持に優れた哲学を持っています。株価の値上がり益（キャピタルゲイン）よりも、日々の生活を豊かにする優待（インカムゲイン的なもの）を楽しみとしています。

## 学び
投資を苦痛なものではなく、生活を楽しむための手段として捉える姿勢は、多くの人にとって投資を始めるきっかけになります。暴落時でも「優待が届くから」と耐えられるメンタルの強さは、長期投資において非常に重要です。
""",

    "kenmo": """
# kenmo氏の投資手法：イベントドリブン・需給トレード

## 概要
市場の需給バランスや特定のイベント（TOB、公募増資、株主優待取り、指数採用など）に着目した「イベントドリブン」投資を得意とする投資家です。

## 主な投資スタイル
- **イベントドリブン**: TOB（株式公開買付）や自社株買い、東証一部（プライム）昇格期待など、株価が動く明白な理由がある銘柄を狙います。
- **需給分析**: 機関投資家の動きや空売り残高など、需給の歪みを見つけてエントリーします。

## 投資哲学
「負けない戦い」を好みます。イベント投資は発生確率や期待値がある程度計算できるため、不確実性の高い方向感の賭けよりも、手堅く利益を積み上げることを重視しています。

## 学び
企業の業績だけでなく、市場のルールやプレイヤーの行動原理（需給）を知ることで、勝率の高いトレードができることを学べます。ファンダメンタルズ分析とは別の視点を持つことの重要性を教えてくれます。
""",

    "かぶ1000": """
# かぶ1000氏の投資手法：ネットネット株・資産バリュー投資

## 概要
中学生から株式投資を始め、専業投資家として長年のキャリアを持つベテランです。企業の保有する資産（現金や不動産など）に対して株価が極端に安い「資産バリュー株」への投資を専門としています。

## 主な投資スタイル
- **ネットネット株**: 「正味流動資産 > 時価総額」となっているような、解散価値を大きく割り込む超割安株を探します。
- **資産価値の再計算**: 含み益のある不動産や有価証券を独自に再評価し、実質的なPBRを算出するなど、徹底したバリュー分析を行います。

## 投資哲学
「安く買って高く売る」という商売の基本を株式投資で実践しています。市場からの評価（株価）と企業の実態価値（バリュー）のギャップ（歪み）が是正される過程で利益を得るスタイルです。

## 学び
ベンジャミン・グレアム流の古典的なバリュー投資を現代日本株で実践する方法論は非常に参考になります。下値が限定的であるため、リスクを抑えながら資産を増やしたい投資家にとって最高の教科書です。
"""
}

def update_profiles():
    conn = sqlite3.connect(DB_PATH)
    c = conn.cursor()
    
    print("Updating investor profiles...")
    for name, bio in articles.items():
        # Update using partial match on name just in case, but exact match is better given we seeded them
        c.execute("UPDATE investors SET profile = ? WHERE name LIKE ?", (bio.strip(), f"%{name}%"))
        if c.rowcount > 0:
            print(f"Updated: {name}")
        else:
            print(f"WARNING: Investor not found: {name}")
            
    conn.commit()
    conn.close()
    print("Profile update complete.")

if __name__ == "__main__":
    update_profiles()
